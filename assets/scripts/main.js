function preventDefault(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function keydown(e){for(var t=keys.length;t--;)if(e.keyCode===keys[t])return void preventDefault(e)}function wheel(e){preventDefault(e)}function disable_scroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=wheel,document.onkeydown=keydown}function enable_scroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null}$(document).ready(function(){setButtonLetter(),initNavBar(),initImagesLoaded("#post-container",".post",".loading-animation"),initShareBtn(".share-btns"),initReadTime(".page-wrapper"),initSyntaxHighlight("pre code"),initBackstretch("#hidden-bg",".main-header"),initGetTag("#tag-search"),initFitVid(".post-page-post .post-text"),initInfiniteScroll(".page-number",".older-posts")});var initImagesLoaded=function(e,t,n){imagesLoaded(e,function(){initBGImage(".post-page-post .post-text",".post-page-header","#hidden-bg"),initBGImage(".static-page-post .post-text",".static-page-header","#hidden-bg"),initPopUp(".post-page-post .post-text");var e=$(t),i=$(n);e.addClass("show-post"),$(i).remove(),e.removeClass("hide-post")})},initGetTag=function(e){var t=$(e);if(t.length>0){var n=window.location.href,i=n.split("tag"),a=replaceAll(i[1],"/","");a=replaceAll(a,"-"," "),tagFirstChar=a.charAt(0).toUpperCase(),a=tagFirstChar+a.substring(1,a.length),t.html(a)}},replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},isMobile=function(){var e=/(Android|webOS|iPhone|iPod|iPad|BlackBerry|IEMobile|Opera Mini)/i;return e.test(navigator.userAgent)?!0:!1},isSafari=function(){var e=navigator.userAgent,t=e.indexOf("Chrome"),n=e.indexOf("Safari");return-1!=n&&-1==t?!0:!1},initBackstretch=function(e,t){isMobile()&&(t=$(t),e=$(e),t.length>0&&e.length>0&&""!==e.val()&&t.backstretch(e.val()))},setButtonLetter=function(){var e=$("#blog-title");if(e.length>0){var t=e.val().charAt(0).toUpperCase(),n=$("#letter");n.html(t)}},initShareBtn=function(e){var t=$(e);t.length>0&&new Share(".share-btns",{ui:{button_background:"#ffffff",button_color:"#202626"}})},initBGImage=function(e,t,n){var i=$(e),a=$(t),o=$(n);if(i.length>0&&a.length>0){var r=$(e+" img")[0];"undefined"!=typeof r&&(a.css("background-image","url("+r.src+")"),$(r).remove(),o.length>0&&(o.val(r.src),initBackstretch("#hidden-bg",".main-header")))}},initReadTime=function(e){e=$(e),readingTime=$(".post-reading-time"),e.length>0&&readingTime.length>0&&e.readingTime({readingTimeTarget:".post-reading-time"})},initSyntaxHighlight=function(e){var t=$(e);t.length>0&&t.each(function(e,t){hljs.highlightBlock(t)})},initNavBar=function(){isSafari()&&$("#navbar").addClass("navbar-safari"),$("#openMenu").on("click",function(e){e.preventDefault();var t;t=$(isSafari()?"#sidebar, .page-wrapper,#navbar":"#sidebar, .page-wrapper"),t.toggleClass("opened"),isMobile()?document.ontouchmove=t.hasClass("opened")?function(e){e.preventDefault()}:function(){return!0}:t.hasClass("opened")?disable_scroll():enable_scroll()})},initPopUp=function(e){var t=$(e);if(t.length>0){var n=$(e+" img");n.length>0&&(n.each(function(){var e=$(this),t=e.attr("src"),n=e.attr("alt"),i="",a=e.parent();"undefined"==typeof n&&(n=""),i="<a class='popup' href='"+t+"'><img src='"+t+"' alt='"+n+"'/></a>",a.empty(),a.html(i)}),$(".popup").magnificPopup({type:"image",gallery:{enabled:!0}}))}},initFitVid=function(e){e=$(e),e.length>0&&e.fitVids()},initInfiniteScroll=function(e,t){var n=$(e),i=$(t);if(n.length>0&&i.length>0){var a=n.html().split("of"),o=i.attr("href").slice(-2).replace("/","");n=parseInt(a[1]),o=parseInt(o),i.html("Load More Posts"),i.on("click",function(){i.html('<i class="fa fa-circle-o-notch fa-spin"></i> Loading')}),$("#post-container .grid-container").infinitescroll({navSelector:".pagination",nextSelector:".pagination .older-posts",itemSelector:".post",behavior:"twitter"},function(e){{var t=$(e);t.attr("id")}t.addClass("show-post"),t.removeClass("hide-post"),o+=1,o>n?$(".pagination").remove():(i.attr("href","/page/"+o+"/"),i.html("Load More Posts"))})}},keys=[37,38,39,40];